<h1>{{ title }}</h1>

<div *ngIf="isLoggedIn">
    You are already logged in!
    <button type="button" (click)="logout()">LOGOUT</button>
</div>

<div *ngIf="!isLoggedIn">
    
<form [formGroup]="loginForm" (ngSubmit)="checkUserExists()">
<input type="text" placeholder="Enter email address" formControlName="email">
<span *ngIf="email && email.invalid && email.touched" style="color: red">Please enter a valid email address</span>
<br>
<input type="password" placeholder="Enter password" formControlName="password">
<span *ngIf="password && password.invalid && password.touched" style="color: red">Password not valid.</span>
<br>
<button type="button" [disabled]="loginForm.invalid" (click)="checkUserExists()">Login</button>
<div *ngIf="errorMessage" id="error-message" class="error-message">{{ errorMessage }}</div>
<br>
<p>No user account?</p>
<button type="button" routerLink="/register">Register now</button>
</form>
</div>
